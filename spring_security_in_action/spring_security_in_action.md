# この本の構成

最初の1，2章でセキュリティ一般のことを述べる。  

3章以降ではSpringSecuriｔｙを使うにあたって必要な項目を細かく見ていく。

3章はユーザーマネージメントについて学ぶ。

4章はユーザーのパスワードについて学ぶ。

5章は認証のロジックについて学ぶ。

6章は2章から5章のハンズオンを行う。

7章は認可の設定について論じる。

8章は具体的に認可のHTTPリクエストについてみていく。

9章は


## 20201128

2章。ハンズオン  
ベーシック認証 ⇒ デフォルトで入れてくる

2.2 の図がすごい分かりやすい

WebSecurityConfigurationAdapter
で動きを定義

InMemoryUserDetailsManager ⇒ どっちかというとテスト用

UserDetailsManager ⇒ 作ったり、削除したり
⇒ こいつを継承してDBに保存したりだとか。

UserDetails ⇒ こいつを継承なりして、めーるアドレスを持たせたりする。

ログインのログをfilter部分でできたり

# 2. Hello Spring Security

Spring Security の最初のステップ


## 20201226

勉強会。
3章を学ぶ。
UserDetails周りの扱いを学べた。 

## 20201227

勉強会のとこまで追いつくようにする。

1章サマリの翻訳

* Spring Securityは、Springアプリケーションのセキュリティを確保するための主要な選択肢です。さまざまなスタイルやアーキテクチャに適用される多くの選択肢を提供しています。
* セキュリティはシステムのレイヤーに分けて適用する必要があり、レイヤーごとに異なるプラクティスを使用する必要があります。
* セキュリティは、ソフトウェアプロジェクトの最初から考慮すべき横断的な懸念事項です。
* 通常、攻撃のコストは、そもそも脆弱性を回避するための投資コストよりも高くなります。
* Open Web Application Security Projectは、脆弱性やセキュリティに関する懸念事項に関しては、参考になる素晴らしい場所です。
* 時には小さなミスが大きな被害をもたらすこともあります。例えば、ログやエラーメッセージを通して機密データを公開することは、アプリケーションに脆弱性を導入する一般的な方法です。

### 2章

モノリシックなアプリなら、Springの重厚な設定は一か所にすればよかったんだけど、マイクロサービスになって、それらを書くコストが顕在化してきた。  
そこでSpringBootの登場

SpringSecurityの各構成要素の概念図？みたいなものが重要っぽい

* 認証フィルタは、認証要求を認証マネージャに委任し、その応答に基づいてセキュリティコンテキストを構成します。
* 認証マネージャは、認証プロバイダを使用して認証を処理します。
* 認証プロバイダは、認証ロジックを実装します。
* ユーザ詳細サービスは、ユーザ管理責任を実装し、認証プロバイダは認証ロジックで使用します。
* パスワードエンコーダーは、パスワード管理を実装しており、認証プロバイダは認証ロジックで使用します。
* セキュリティコンテキストは、認証処理後の認証データを保持します。

UserDetailsServiceのBean定義をした際に、PasswordEncoderのBean定義が必要なのはなんで？

次2．3.1から

## 20201229

* Spring Security in actionの2.3.1において、 UserDetailsManagerのBean定義のみしたら、なぜPasswordEncoderがなくて怒られるのか？

次は2.3.4から
