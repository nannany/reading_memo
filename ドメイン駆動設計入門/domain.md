## 1-2 ドメインの知識に焦点をあてた設計手法

ドメインは、プログラムを適用する対象となる領域

### 1.2.1 ドメインモデルとは何か

モデルとは、現実の事象あるいは概念について、抽象化した概念

事象、概念を抽出化する作業をモデリングという

ドメインの概念をモデリングして得られたモデルを、ドメインモデルと呼ぶ

### 1.2.2 知識をコードで表現するドメインオブジェクト

ドメインモデルを、ソフトウェアで動作するモジュールとして表現したものが、ドメインオブジェクト

ドメインオブジェクトを考えるうちに、ドメインモデルに影響を及ぼすこともある

## 1.3 本書解説事項と目指すゴール

具体的な例を基に、ボトムアップ形式でドメイン駆動設計のスタート地点に立つ

## 1.4  本書で解説するパターンについて

* 知識を表現するパターン
  * 値オブジェクト
  * エンティティ
  * ドメインサービス
* アプリケーションを実現するためのパターン
  * リポジトリ
  * アプリケーションサービス
  * ファクトリ
* 知識を表現する、より発展的なパターン
  * 集約
  * 仕様

### 1.4.1 知識を表現するパターン

### 1.4.2 アプリケーションを実現するパターン

### 1.4.3 知識を表現する、より発展的なパターン

# 2. システム固有の値を表現する「値オブジェクト」

## 2.1 値オブジェクトとは

## 2.2 値の性質と値オブジェクトの実装

値の性質

* 不変である
* 交換が可能である
* 等価性によって比較される

### 2.2.1 不変である

代入は変更ではない。代入によって変更しているのは、変数の内容であって、値自体を変更しているのではない。

不変であることがバグを防ぐことにつながる、というのをうまく説明できるだろうか？
だいたい、これまでの経験上、みたいな話が多い気がする。

### 2.2.2  交換が可能である

値オブジェクトは不変であるため、代入操作による交換以外の手段で変更はできない。

### 2.2.3 等価性によって比較される

値オブジェクトであるなら、equalsメソッドは持っとけという話

## 2.3 値オブジェクトにする基準

ドメインモデルとして挙げられなかった概念を、値オブジェクトにすべきかどうかの判断は、
* そこにルールが存在しているか
* それ単体で扱いたいか

で判断する。

ドメイン駆動設計はイテレーティブなもの。開発中に値オブジェクトににすべきと考えたものは、いっそ値オブジェクトにすべき。

## 2.4 ふるまいをもった値オブジェクト

### 2.4.1 定義されないからこそわかること

お金同士の掛け算はできない、とかそういうこと。掛け算するならrateとの掛け算になる。
オブジェクトに定義される振る舞いは、そのオブジェクトができることに限られる。

## 2.5 値オブジェクトを採用するモチベーション

### 2.5.1　表現力を増す

値オブジェクトの形をとることにより、該当のオブジェクトがどういった成り立ちをしているのか、よくわかるようになる。

### 2.5.2 不正な値を存在させない


