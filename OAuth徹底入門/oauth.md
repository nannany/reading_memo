# はじめに

OAuthの歴史

この本の目標

* OAuth2.0 は何なのか
* なぜOAuthが機能するのか
* どのようにOAuth2.0を使って地震の問題を解決するのか

を理解する。

# 第1部 はじめの一歩

OAuth2.0の全体像をみていく

## 1. OAuth2.0とは何か？そして、なぜ気にかけるべきなのか？

### 1.1 OAuth2.0とは何か？

OAuthとはシステムを構成しているある要素から別の構成要素にアクセス権をわたすためのもの

OAuthを構成する要素

* リーソス所有者:通常は人
* 保護対象リソース:何らかのWebAPI
* クライアント:保護対象リソースに依って提供されるAPIを利用するソフトウェアすべて

これらの言葉を使って、OAuthの目的を再定義すると、  
**クライアントをリソース所有者の代わりとして保護対象リソースへアクセスさせる**


### 1.2 古き悪しき手法〜クレデンシャルの共有〜

ユーザのパスワードを再提示するような方法
* クライアントに渡したクレデンシャルがばれると。。
  * リソース所有者のあらゆる情報が引き出されうる。(パスワードの使いまわし)
  * ずっと保護対象リソースへのアクセスが許可されてしまう
* リソース所有者からのアクセスなのか、クライアントからなのかがわからない
  * 認可の制御ができない

クライアントに開発者キーみたいななんでもできるクレデンシャルを渡す方法
* クレデンシャルがばれると終わり

クライアントから保護対象リソースへアクセスするのを別パスワードにする
* ユーザビリティが悪い

----
クレデンシャルをクライアントとユーザーのそれぞれの組み合わせごとに別々に発行し、それを保護対象リソースで使えるようにしたい！

### 1.3 アクセス権の委譲

上記を実現するための仕組みがOAuth。
ここで新たに、認可サーバーという登場人物があらわれる

いわゆる認可コードフローだと、クライアントにクレデンシャル(id,passwordとか)が知られずに済む

#### 1.3.1 Basic認証にとって代わるものとパスワード共有に関するアンチパターン

もともと、HTTP経由のAPIがパスワードで保護されるようになったのはどんな経緯か？

#### 1.3.2 権限の委譲　～なぜ重要でどのように行われるのか？～

OAuthはユーザーの権限の一部をクライアントに委譲するよう、クライアントがユーザーにリクエストするための手段を提供している。

#### 1.3.3 ユーザー主導のセキュリティとユーザーの選択

TOFUの原則 ⇒ Trust On First Use
最初に権限に関する決定を下すと、システムはそのあともユーザーの決定を信頼して従うようになる。

3層のリスト
* ホワイトリスト
* グレーリスト
* ブラックリスト

### 1.4 OAuth2.0～良い点と悪い点、そして醜い点～




 
