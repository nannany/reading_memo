プログラミングというよりはエンジニアリングについての本。

持続可能なソフトウェアエコシステムについて、Googleの知見を述べていく本。

トピックとしては大きく、
- 文化
- プロセス
- ツール

について扱っていく。


# 第1部 主題

## 1章 ソフトウェアエンジニアリングとは何か

プログラミングとソフトウェアエンジニアリングの違いは3つ。

- 時間
- スケール
- トレードオフ

```
本書が目指すのは、Googleで、何万人ものエンジニアと世界中に広がるコンピュートリソースとを用いて、何十年も存続する見込みのソフトウェアの構築と保守を行う際に、効果があると突き止められたものを公開することだ。
```

### 1.1 時間と変化

google検索、linuxカーネル、apache httpサーバーなどは宿題やスタートアップのコードとは違い長期間動作することが求められる。

アップグレードを最初から計画していなかったpjでは下記の理由から移行に苦痛が伴う。

- プロジェクトでまだ行われたことのないタスクを実行することになるため、より多くの隠れた前提条件が組み込まれている。
- アップグレードを試みるエンジニアは、この種のタスクの経験がある可能性が低い。
- どちらかといえばインクリメンタル(incremental:段階的に増える)なアップグレードでは なく複数年分のアップグレードをやっているので、アップグレードのサイズが通常より大きい場合が多い。

#### 1.1.1 Hyrumの法則

Hyrumの法則
```
あるAPIに十分な数のユーザーがいるとき、APIを作った者自身が契約仕様として何を約束しているかは重要ではない。
作られたシステムが持つあらゆる観察可能(observable)な挙動に関して、それに依存するユーザーが出てくるものである。
```

これでピンとくるか？？複雑度はAPIが使われるに従って上がる、という理解をした。
APIを公開して、暗黙の依存関係ができて、それが複雑度につながる。

#### 1.1.2 例: ハッシュの順序付け

ハッシュの順序付けを例にとって、Hyrumの法則について説明している。

ハッシュテーブルは内部的には順序を持っているが、ハッシュ実装者が意図してそうなっているというよりは勝手にそうなったもの。
このような意図せずに発生した仕様に依存して何者かが作成されると厄介。
これがHyrumの法則の一例。`作られたシステムが持つあらゆる観察可能(observable)な挙動に関して、それに依存するユーザーが出てくるものである。`

#### 1.1.3 「何も変化しない」状態をとにかく目指すのはどうか

持続可能性に投資していない長期プロジェクトは大きなリスクがある。

### 1.2 スケールと効率

#### 1.2.1 スケールしないポリシー

```
少し練習すれば、スケーリングについて難のある属性を持つポリシーを容易に見つけられるようになる。
通常、そうしたポリシーを特定するには、エンジニア1人に課される作業を考えた上で、組織が10倍か100倍スケールアップ(scaleup)†42する場合を想像してみればよい。
組織が10倍大きくなったら、標本(sample)とした1人のエンジニアが保持する作業量を10倍に増やすだろうか。
エンジニアがこなさなければならない作業量は、組織のサイズに応じて変動する、関数の値として増大するか。
その作業はコードベースのサイズに伴ってスケールアップするか。
これらのいずれかが真であるならば、その作業を自動化するか最適化するための何らかのメカニズム(mechanism:仕組み、機構)は設置されているか。
そのメカニズムがないならば、スケーリング上の問題がある状態だ。
```

#### 1.2.2 よくスケールするポリシー

組織が発展するのに伴ってコスト改善につながるのは、どんな種類のポリシーだろうか。

```
製品が、インフラストラ クチャーの変更の結果として障害や他の問題に陥った場合、問題が継続的インテグレーション
(Continuous Integration/CI)†51システムでのテストで表面化していなかったならば、インフラス トラクチャーの変更に落ち度はない
```
というポリシーが例に挙げられていた。

知識共有については3章でのべる。

#### 1.2.3 例：コンパイラーのアップグレード

https://ja.wikipedia.org/wiki/%E6%8A%95%E6%A9%9F%E7%9A%84%E5%AE%9F%E8%A1%8C#:~:text=%E6%8A%95%E6%A9%9F%E7%9A%84%E5%AE%9F%E8%A1%8C%EF%BC%88%E3%81%A8%E3%81%86%E3%81%8D%E3%81%A6%E3%81%8D,%E3%81%A7%E4%BD%BF%E3%82%8F%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%80%82

ビヨンセルールは導入できたら楽だなと思った。
インフラ改善を行った際に、特定のCIを回すことができれば、それはインフラ改善の影響ではないとするポリシー。

#### 1.2.4 左への移動


